{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login</title>
    <!-- CSS 파일을 장고의 static 파일로 연결 -->
    <link rel="stylesheet" href="{% static 'login_style.css' %}">
</head>
<body>
    <div class="container">
        <h2>로그인</h2>
        <!-- POST 방식으로 '/login' URL로 데이터 전송 -->
        <form action="/login/" method="post" id="login-form">
            {% csrf_token %} <!-- CSRF 토큰 추가 -->
            <input type="text" name="username" placeholder="Username" required>
            <input type="password" name="password" placeholder="Password" required>
            <input type="submit" value="Login">
        </form>
        <!-- 회원가입 버튼 클릭 시 '/signup' URL로 이동 -->
        <button class="btn-signup" onclick="window.location.href='/sign_up/'">Sign Up</button>
    </div>

    <script> //곤
        // 로그인 폼 요소 가져오기
        var loginForm = document.getElementById('login-form');

        // 폼 제출 이벤트 처리
        loginForm.addEventListener('submit', function(event) {
            // 유저이름과 비밀번호 입력값 가져오기
            var usernameInput = document.querySelector('input[name="username"]');
            var passwordInput = document.querySelector('input[name="password"]');
            var username = usernameInput.value;
            var password = passwordInput.value;

            // 입력값이 비어있는지 확인
            if (!username || !password) {
                // 유저이름 또는 비밀번호가 비어있는 경우 제출을 막고 알림창을 띄움
                event.preventDefault(); // 폼 제출 막기
                alert("유저이름과 비밀번호를 모두 입력하세요.");
            }
        });

        // 로그인 실패 시 팝업 표시
        window.onload = function() {
        // 로그인 버튼 클릭 시 처리
        document.getElementById('login-button').addEventListener('click', function() {
            var username = document.getElementById('username').value;
            var password = document.getElementById('password').value;
            
            if (!username || !password) {
                alert('아이디 또는 비밀번호를 입력하세요.');
            }
        });
    };
    </script>
</body>
</html>
